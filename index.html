<!--
  ~ Copyright (C) 2020 Curity AB. All rights reserved.
  ~
  ~ The contents of this file are the property of Curity AB.
  ~ You may not copy or use this file, in either source code
  ~ or executable form, except in compliance with terms
  ~ set by Curity AB.
  ~
  ~ For further information, please contact Curity AB.
  -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Curity OAuth Assistant</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <link rel="shortcut icon" href="https://curity.io/images/favicon.png">
    <meta name="theme-color" content="#2a2f3a">
    <meta name="description" content="Curity OAuth Assistant">
    <meta name="keywords" content="oauth, assistant, spa, app, website, token">

</head>

<body>

    <header role="header">
        <div>
            <a href="/">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1161 331">
                    <defs>
                        <path id="a" d="M0 .403h1039.456V217H0V.403z" />
                        <path id="c" d="M0 .403h1039.456V217H0V.403z" />
                    </defs>
                    <g transform="translate(59 60)" fill="none" fill-rule="evenodd">
                        <mask id="b" fill="#fff">
                            <use xlink:href="#a" />
                        </mask>
                        <path
                            d="M298.146 137.751l-3.353 3.356c-18.933 18.891-42.73 29.733-65.304 29.733-35.813 0-61.803-26.08-61.803-62.005 0-35.903 25.362-61.972 60.313-61.972 20.242 0 44.21 9.419 61.058 23.967l3.374 2.941 33.503-34.926-3.778-3.217C296.422 13.583 259.874.394 224.401.394c-39.08 0-72.18 17.734-91.847 45.778h-61.74L67.206 76.5h50.714c-1.629 5.48-2.757 11.182-3.523 17.044H38.513l-3.608 30.317h79.481c.756 5.862 1.873 11.575 3.47 17.023H3.615l-3.618 30.328h132.291c19.678 28.257 53.203 45.79 93.614 45.79 50.745 0 86.122-25.9 102.693-41.33l3.523-3.282-33.972-34.639z"
                            fill="#FFF" mask="url(#b)" />
                        <path
                            d="M29.917 93.543H7.557l-3.61 30.317H26.32l3.597-30.317zm476.877 40.33c-12.229 11.384-30.822 21.8-54.13 21.8-35.387 0-58.706-25.22-58.706-56.46 0-30.583 23.478-56.281 57.887-56.281 19.561 0 38.803 7.645 51.522 18.551l-14.677 15.28c-9.78-8.452-23.478-13.655-34.887-13.655-21.52 0-35.388 16.427-35.388 36.274 0 20.007 14.187 36.275 36.207 36.275 14.507 0 28.034-7.646 37.325-16.916l14.847 15.132zm116.244-87.69v67.994c0 26.526-20.551 41.5-48.755 41.5-27.394 0-48.425-14.974-48.425-41.5V46.183h23.478v67.994c0 14.006 11.25 21.482 24.947 21.482 14.517 0 25.277-7.476 25.277-21.482V46.183h23.478zm54.94 19.682v27.822h38.154c8.153 0 14.836-5.861 14.836-13.985 0-3.579-1.309-6.839-3.756-9.281-3.747-4.067-8.472-4.556-12.708-4.556h-36.526zm-23.308 86.546V46.178h59.014c15.167 0 25.107 4.407 31.961 11.553 5.545 5.862 8.802 13.508 8.802 21.971 0 13.656-8.472 24.233-21.52 29.925l24.947 42.784h-26.735l-21.53-39.036h-31.631v39.036H654.67z"
                            fill="#FFF" />
                        <mask id="d" fill="#fff">
                            <use xlink:href="#c" />
                        </mask>
                        <path
                            d="M781.835 46.182h23.308v106.233h-23.308V46.182zm44.353.001h100.447V66.35H888.14v86.067h-23.308V66.349h-38.644V46.183zm213.262 0l-42.23 57.746v48.487h-23.478v-48.487l-42.39-57.746h29.012l25.926 36.933 25.777-36.933h27.384z"
                            fill="#FFF" mask="url(#d)" />
                    </g>
                </svg>
                <h1 class="yellow">OAuth Assistant</h1>
            </a>
        </div>
        <nav role="navigation">
            <ul>
                <li><input class="input" type="text" onclick="select()" value="npm install @curity/oauth-assistant"></li>
                <li><a href="https://www.npmjs.com/package/@curity/oauth-assistant">Documentation</a></li>
                <li>A library by <a
                        href="https://curity.io/?utm_source=oauth-assistant&utm_medium=Link&utm_content=Navigation">Curity</a>
                </li>
            </ul>
        </nav>
    </header>

    <main>

        <aside class="settings">

            <h2><span class="number">1</span>Authorize Flow</h2>
            <label for="authorizeFlow">Choose a flow:</label>
            <select id="authorizeFlow">
                <option value="code">Code Flow</option>
                <option value="implicit">Implicit Flow</option>
                <option value="assisted_token">Assisted token Flow</option>
            </select>

            <h2><span class="number">2</span>Settings</h2>
            <p>
                <strong>Note:</strong> In the settings object below, you can set a <code>redirect_uri</code> that would
                normally be used by the assistant. However, this demo app overrides this settings when you click on
                one of the buttons which start a flow. It is included in the input below only for completeness.
            </p>
            <textarea id="authorizeSettings" cols="100" rows="10"></textarea>

            <h3><span class="number">3</span>Parameters for authorize call</h3>
            <textarea id="authorizeParameters" rows="6" cols="100">
{
    "scope" : "openid",
    "state" : "123"
}
</textarea>
        </aside>

        <section>

            <h2><span class="number">3</span>Run Flows</h2>


            <h2>Login Flow with Redirect</h2>
            <button id="loginFlowRedirect">Login With Redirect</button>
            <pre id="loginMsgRedirect"></pre>

            <h2>Login Flow with visible frame</h2>
            <button id="loginFlow">Login With Visible Flow</button>
            <pre id="loginMsg"></pre>

            <h2>Login Flow with hidden frame</h2>
            <button id="loginFlowHidden">Login With Hidden Flow</button>
            <pre id="loginMsgHidden"></pre>

            <h2>Revoke Token</h2>
            <button id="revoke">Revoke</button>
            <div id="revokeMsg"></div>

            <h2>Show token</h2>
            <button id="showToken">Show Token</button>
            <pre id="showTokenData"></pre>
            <pre id="showScopeData"></pre>

            <h2>Show expires in</h2>
            <button id="showExpiresIn">Show Expires In</button>
            <pre id="showExpiresInData"></pre>

            <h2>Show additional fields</h2>
            <button id="showAdditionalFields">Show Additional Fields</button>
            <pre id="showAdditionalFieldsData"></pre>

            <h2>Show ID token</h2>
            <button id="showIDToken">Show ID Token</button>
            <pre id="showIDTokenData"></pre>

            <h2>Refresh using Refresh Token</h2>
            <button id="refresh">Refresh</button>
            <div id="refreshMsg"></div>

            <h2>Show Refresh Token</h2>
            <button id="showRefreshToken">Show Refresh Token</button>
            <pre id="showRefreshTokenData"></pre>

            <h2>Logout</h2>
            <button id="logoutButton">Logout</button>
            <input id="postLogoutRedirectUri" type="url" class="mt2" />
            <pre id="logoutMsg" class="mt2"></pre>

        </section>
    </main>
    <footer role="footer">

    </footer>

</body>

</html>
